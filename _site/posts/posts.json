[
  {
    "path": "posts/2021-06-09-datavizmakeover2/",
    "title": "DataVizMakeover2 - Merchandise Trade by Region/Market",
    "description": "Explore different approaches to design clear data visualisation with Tableau.\nThis was created as part of the course requirement for ISSS608 Visual Analytics for MITB.",
    "author": [
      {
        "name": "Aaron Oh",
        "url": "https://www.linkedin.com/in/aaronoh743/"
      }
    ],
    "date": "2021-06-19",
    "categories": [],
    "contents": "\r\n\r\nContents\r\n1. Introduction\r\n2. Objectives\r\n3. Evaluation of the original visualisation3.1. Clarity\r\n3.2. Aesthetics\r\n\r\n4. Proposed Graphical Representation4.1. Sketch\r\n4.2. Advatanges of proposed design\r\n\r\n5. Step-by-step description for the makeover5.1. Data Preparation (Tableau Prep Builder)\r\n5.2. Creating Visualisations (Net Exports) - Tableau Desktop\r\n5.3. Creating Visualisations (Total Trade) - Tableau Desktop\r\n5.4. Putting all together - Tableau Desktop\r\n\r\n6. Observations\r\n\r\n1. Introduction\r\nFor the second DataViz makeover assignment, I will be looking at the same dataset - Merchandise Trade by Region/Market.I will be looking at is between January 2011 - December 2020 and focusing on United States, Mainland China, Malaysia, Japan, Taiwan, Republic of Korea, Thailand, Indonesia, EU and Hong Kong.\r\nThe data is made available under the sub-section of Merchandise Trade by Region/Market.\r\n2. Objectives\r\nThe chart aims to differentiate the regions that are net importers or exporters between 2011 and 2020. It also aims to show the quantum of trade which highlights the trade relationship between Singapore and the regions.\r\n3. Evaluation of the original visualisation\r\nI will first examine the original visualisation from the data (Figure 1) and critique based on the clarity and aesthetics.\r\nFigure 1: Original Chart of Net Exports3.1. Clarity\r\nSome of the bubbles in the chart are overlapping with one another which makes it difficult to determine the net exports for some market/region. For instance, EU, Malaysia and United States are congregating near the boundary line. In addition, the United States bubble is covering the white circle of many markets which is supposed to indicate if they are net importers or net exporters. Some of the labels, indicating the region name and total trade value are also covering the white circle.\r\nThe size of the bubble is indicative of the total trade volume of the market with Singapore. However, given the size, portion of the bubbles will cross over the boundary line between net imports and exports. This gives an inaccurate impression of the market on whether they are net importers or net exporters. For example, at first glance, Malaysia could be both. Only upon closer inspection of the white centre can we establish the status.\r\nTitle and chart description is absent from the visualisation. There should be a title to show the reader what the visualisation is about. It will give better clarity to the user when making sense of the different bubbles within the chart. Without it, the reader would have to make certain assumptions based on the labels present on the chart.\r\nThe visualisation gave no context to the insight paragraph provided at the bottom of the page. For the visualisation, we assume that data from 2011-2020 is used. However, the insight paragraph depicted the change in exports between Mainland China and United States from 2009 and 2006 respectively.As such, the paragraph is redundant.\r\nThere seems to be a mix of markets and regions in the same chart. European Union (EU) is a region, while the remaining are markets. This gives an imbalanced comparison as a region (make up of multiple markets) would have a larger trade volume.\r\n3.2. Aesthetics\r\nThere are too many colours used to differentiate the regions on the same diagram. This could be distracting to the reader in determining what to focus on. As such, a static graph might not be a good strategy for visualisation. However, the colour differentiation between net imports and exports is good.\r\nThere are no labels on the x and y axis. At first glance, I am unable to ascertain what the axis are referring to, and at what units. The additional sticker for imports and exports, might also be redundant.\r\nThe labels and the axis are inconsistent in the information presented. While both the x and y axis shows the region imports and exports separately, the labels shows the total trade value instead. This does not give any additional information to the reader.\r\n4. Proposed Graphical Representation\r\n4.1. Sketch\r\nIn this section, I will proposed an alternative graphical representation of the data.\r\nFigure: Proposed Graphical Representation4.2. Advatanges of proposed design\r\nI have kept the bubble plot to show the Import/Export relationship between the different markets and regions.\r\nI have included multiple filters to allow better visulisation - Net Importers/Net Exporters, Market/Region,ranking and year based on net exports and total trade volume. These interactive filtering features allow users to customise their views and reduce cluttering on the visualisation which might inhibit effective analysis.\r\nI have excluded static value plots as it makes the visualisation look busy. Instead, I have included tooltips to each datapoint and will display the relevant data when hovering above the plot.\r\nClear colour and title distinction between the net importers (blue) and net exporters (green). This will be demonstrated in the later steps.\r\n5. Step-by-step description for the makeover\r\nIn this section, I will be providing a step-by-step guide for the makeover in Tableau Prep Builder and Tableau Desktop. Similar to the first makeover, I will make use of 2 tables:\r\nT1: Merchandise Imports By Region/Market, MonthlyT2: Merchandise Exports By Region/Market, Monthly\r\n5.1. Data Preparation (Tableau Prep Builder)\r\nRemove the rows 1-5 from Excel T1 and T2 to facilitate upload onto Tableau.\r\nFigure 2: Removing unncessary rows from ExcelOpen Tableau Prep Builder. Create a new connection with the raw data. Import the csv file (OutPut.csv) from the source folder.\r\nFigure 3: Create a new excelFigure 4: Import the raw data fileDrag T1 into the workspace and create a new clean step.\r\nFigure 5: Dragging T1 into the workspace and creating a new clean stepIn this visualisation, we will only look at data from 2011-2020. As such, I will filter out the months and years that are not applicable in the analysis. I will first click on the “Show List field”. Next, I will highlight the relevant columns that not applicable before removing them.\r\nFigure 6: Removing unncessary time variableNext, I also noticed that there are also some values in the variables column that are unnecessary and will be removed.\r\nFigure 7: Removing unncessary rowsFigure 8: Exclude unncessary rowsPivot the data (except for the variable column) to get a thinner table suitable for visualisation. Drag the fields into the pivoted fields. Create another clean step after completion to visualise the data.\r\nFigure 9: Pivot the dataRename the columns to Region/Market, Year Month and Import respectively.I will also change the data type of the columns, to ensure easy filtering and sorting later. Year Month is changed to “Date”, while import (cleaned) is change to whole number.\r\nFigure 10: Rename the columnsFigure 11: Changing the data types of the columnsNext, I will ensure that the import value is standardised as there are different units in the data set. I will do so by creating a new calculated field, with the following formula.The new column is renamed as Import (Cleaned). The original data can be removed.\r\nFigure 12: Create new calculated field to standardise import valuesNext, I will create a separate column called “Region/Market Filter” to distinguish between markets and regions. By observing the raw data, I observed that the markets have “Thousand Dollars” following their market name, while regions have “Million Dollars” following their region name. This can be done with another calculated field with the following formula.\r\nFigure 13: Create new calculated field to distinguise between markets and regionsNext, I would like to remove the additional details from the region/market column to keep only the names. I will do an automatic split and keep only the column with only Region and Market names.Rename the columns accordingly.\r\nFigure 14: Post splitting of region/market columnRepeat Step 1-10 to clean to T2 for exports.\r\nFigure 15: Two flows for T1 and T2An inner join is created between the cleaned data from T1 and T2, with the following condition. This functions mainly ensures that import and export data could be found on the same row, linking by Year Month and regions/markets.\r\nFigure 16: Inner JoinFor the visualisations, I would like to look at data yearly and is required to aggregate imports and exports values by Year. This can be done by the aggregate function. I will drag region/market, year, region/market filter into the grouped fields while exports(cleaned) and import(cleaned) into the aggegated field. Finally, I will create a clean step to visualise the data again.\r\nFigure 17: Aggregating dataRemove the duplicated columns. 5 columns should remain: Region/Market, Region/Market Filter, Year Month, Import (Cleaned) and Export (Cleaned). Finally, output the completed cleaned data into a Tableau Data Extract(.hyper) and run the flow. I will add this file as a connection in Tableau Desktop to build the visualation. We are not ready to move into Tableau Desktop!\r\nFigure 18: Exporting data5.2. Creating Visualisations (Net Exports) - Tableau Desktop\r\nFirst, I will create the net exports visualisation by region/market. A new calculated fields, “Net Exports” is created with the following formula.\r\nFigure 19: Net Exports fieldNext, I will create a net exporter/net importer filter. This is to allow self-filtering in the dashboard to differentiate between the 2 groups.A new calculated field, can be created for this.\r\nFigure 20: Net exporter/importer filterI will set-up the basic structure of the visualisation. The cleaned import and export data will be dropped in the columns and rows respectively. To split the bubble plot into different region/market, the region/market dimension is dropped under Detail. I have also dropped the earlier filters created into the filter card.\r\nFigure 21: Basic structure of the visualisationThe default value of the filters allow for multiple selection and select all function. For this visualisation, I want the selection to be single value, without all selection to reduce clutter in the chart. Under the filter card, the “Show All Value” should be unchecked and “Single Value (List)” should be picked.\r\nFigure 22: Customising filter choiceNext, a new calculated field, “Total Trade Value” is created which will be visualised by the size of the bubble. Total trade volume is created with the formula below. The newly created measure is dropped under “Size” in the workspace.\r\nFigure 23: Total Trade Volume VisualisationNext, it would be very cluttered to all markets/regions on the same graph. As such, I will create a rank filter to limit the number of data point to show. A new calculated field, Ranking by Net Exports, is created with the following formula. The formula is structured such that there are no overlaps in the ranking between net importers and net exporters.\r\nFigure 24: Ranking by Net ExportsI have also duplicated “Ranking by Net Exports” and named it “Ranking by Net Exports (copy)”. This is done with the intention to limit the allowable value for the first filter. Drop “Ranking by Net Exports” into the filter card. Select “1” from the list, and click ok.\r\nFigure 25: Filtering Ranking by Net ExportsNext, the ranking should be computed using “Region/Market” and not the default. Display the filter in the right pane, and should be in the form of a slider. However, we do not want to display all 74 values. Step 23 will describe the steps to limit this number.\r\nFigure 26: Computing ranking by net exportsFigure 27: Ranking by Net Export FilterNow, we can move \"Ranking by Net Exports (copy) to the filter card. Repeat step 20 and 21 to compute the ranking. However, instead of choosing the full list of values, we will limit to only 15. By doing so, the non-copy filter will only allow to choose the top 15 value. This value can be changed depending on the needs.\r\nFigure 28: Limiting range of Rank FilterFinally, we will customise the filter to “At Most”. This means that only the right hand side of the filter can be moved, with 15 as the maximum.\r\nFigure 29: Customising the filter optionsI will customise the interative tooltips to display the relevant text when the user hover over the data point. I will create 2 new calculated fields called “Net Exporter Filter” and \"Net Importer Filter’. These fields allow customisable display of whether the region/market is a net importer or net exporter.The newly created filter is dropped under tooltip.\r\nFigure 30: Net Exporter and Net Importer FiltersIn the same visualisation, I would also like to show the ranking of total volume in the tooltip. First, a new calculated field called Ranking by Total Volume is created. The new field will be added to the tooltip section.\r\nFigure 31: Ranking by Total VolumeNow, we are ready to customise the words in the tooltip. Click on the tooltip tab and a window will be opened for text to be added. In order to show a dyanamic change, we encapsulate the dimensions/measures in <>.\r\nFigure 32: Customisation of TooltipFinally I added in the Year filter to display YOY changes.\r\nFigure 33: Net Exports Chart5.3. Creating Visualisations (Total Trade) - Tableau Desktop\r\nNext, I will create another visualisation to supplement the first chart. This chart will feature top 15 markets/regions net importer/net exporters by total trade.\r\nI start off with the base dimensions and measures to set-up the outline of the chart.\r\nFigure 34: Base chart for total tradeNext, I would like to filter the top-15 countries based on total trade. I will use the same method as shown in Step 20 - Step 23. At the same time, I will drop the Ranking by Total Volume dimension into rows.\r\nFigure 35: Adding Top-15 filterTo visualise imports and exports better, I will create pyramid chart. In this case, I would have to reverse the scale of the import axis.\r\nFigure 36: Reversing the axis to create a pyramid chartTo differentiate between net importers and exporters, I added the \"Net Importers/Exporters Filter to the colour tab.\r\nFigure 37: Adding colours to the filteringThe chart is completed after editing the chart, filter and axis titles.\r\nFigure 38: Total Volume Chart5.4. Putting all together - Tableau Desktop\r\nCreate new dashboard worksheet, and the individual charts created previously would appear on the left side Tableau Desktop.\r\nFigure 39: Creating the dashboardFor this dashboard, I have decided to use Automatic as the size and used the tiled method to position the different visualisations. Tableau will automatically resize depending on the displayed screen.\r\nThe final visualisation is showed below with the respective titles, fliters and chart description. The dashboard is also published on Tableau Public.\r\nFigure 40: Final Dashboard6. Observations\r\nIn the earlier years of 2010s, Malaysia (primarily a net exporter) has the largest trade volume with Singapore. However, since 2013, Mainland China has overtaken Malaysia to take the top spot. It might also be interesting to note that Malaysia became a net importer from 2019, which could indicate a shift in the demand for certain goods with Singapore. Overall, Malaysia is still one of the largest trade partner with Singapore, likely due to our proximity with them.\r\nUnder net importers, it is interesting to note that there are many regions from the middle eastern countries (Saudi Arabia, UAE, Qatar). However, their total trade volume is Singapore is low, usually because due to the low exports. Given the nature of the region, it is likely that Singapore trades mineral fuels (including oil) with these countries, accounting for higher imports. Saudi Arabia has ranked consistently in the top-5.\r\nFrom 2011-2019, United States is ranked consistently high as a net importer. However, in 2020, it became a net exporter instead. Indicating a shift in trading behaviour. Between 2019 and 2020, imports has dropped significantly resulting in the shift and USA became #6 net exporter. This could indicate a shift in international relations given that Singapore has a long standing relationship with USA.\r\n\r\n\r\n\r\n",
    "preview": {},
    "last_modified": "2021-06-19T21:49:42+08:00",
    "input_file": {}
  },
  {
    "path": "posts/DataViz Makeover 1/",
    "title": "DataViz Makeover 1 - Merchandise Trade by Region/Market",
    "description": "Explore different approaches to design clear data visualisation with Tableau.\nThis was created as part of the course requirement for ISSS608 Visual Analytics for MITB.",
    "author": [
      {
        "name": "Aaron Oh",
        "url": "https://www.linkedin.com/in/aaronoh743/"
      }
    ],
    "date": "2021-06-19",
    "categories": [],
    "contents": "\r\n\r\nContents\r\n1. Introduction\r\n2. Objectives\r\n3. Evaluation of the original visualisation3.1. Clarity\r\n3.2. Aesthetics\r\n\r\n4. Proposed Graphical Representation4.1. Sketch\r\n4.2. Advatanges of proposed design\r\n\r\n5. Step-by-step description for the makeover5.1. Data Preparation (I)\r\n5.2. Data Preparation (II)\r\n5.3. Creating Visualisations - Imports and Exports\r\n5.4. Creating Visualisations - Net Exports\r\n5.5. Dashboarding - Putting everything together\r\n\r\n6. Observations\r\n\r\n1. Introduction\r\nFor the first DataViz makeover assignment, I will be looking at Merchandise Trade by Region/Market, with data extracted from the Department of Statistics (DOS), Singapore. I will be looking at the import and export numbers from 6 countries - Hong Kong, Mainland China, Japan, Malaysia, Taiwan, United States.\r\nThe data is made available under the sub-section of Merchandise Trade by Region/Market.\r\n2. Objectives\r\nThis chart aims to show imports and exports trends of the top six countries historically with the highest trade. This is important as a country’s imports and exports activity can affect her Gross Domestic Product (GDP), exchange rate, inflation and interest rates. By understanding the patterns, policy-makers are able to look into country-specific trade strategies that may overcome any deficits.\r\n3. Evaluation of the original visualisation\r\nI will first examine the original visualisation from the data (Figure 1) and critique based on the clarity and aesthetics.\r\nFigure 1: Original Chart of Merchandise Trade of Top Six Trading Countries, 2019-20203.1. Clarity\r\nChart labels (y-axis) are inconsistent for all six countries. For instance, Hong Kong’s exports uses $2M interval while imports uses $200K interval. This gives an inaccurate first impression that imports have exceeded exports for some months.Similarly, by comparing between countries, it seems that Malaysia and Taiwan have similar imports and exports numbers. Upon closer look, it is observed that Malaysia has twice the amount of exports compared to Taiwan.\r\nChart labels are presented in millions(M) and thousands(K). Upon closer inspection of the raw dataset, the data is presented in ’000, which indicates that the actual trade values are in nominations of billions.\r\nThe period (x-axis) presented in the chart is inconsistent with the title. Japan only had data from 2020, while the remaining countries have data presented from 2019-2021. The chart title showed 2019-2020 instead. Nonetheless, the title was clear in showing the reasons for choosing the top six countries.\r\nY-Axis is not properly labeled with units. It could be misinterpreted as trade volume instead of trade amount.X-axis is clear.\r\nThere could be a short paragraph summarising the objectives of the visualisation. This might give the reader a clearer picture.\r\n3.2. Aesthetics\r\nArea graph may not be the most appropriate chart. Due to the overlapping colours, it is difficult to visualise the export trends when its value falls below import value. A line graph might be more appropriate.\r\nUsage of colours in the chart is consistent, and easy to differentiate.\r\nThere could be annotations on the graph to highlight key observations and provide a cleaner look to the entire presentation.\r\n4. Proposed Graphical Representation\r\n4.1. Sketch\r\nIn this section, I will proposed an alternative graphical representation of the data.\r\nFigure 2: Proposed Graphical Representation4.2. Advatanges of proposed design\r\nI have replaced the area graph with a line graph. This will allow better view of the data especially if there are any overlaps.\r\nThe y-axis of both imports and exports have the same interval. This will give a more accurate representation when comparing within and across the countries.\r\nDerived a new measure called net exports to understand if there are any trade deficit/surplus with certain countries. The data is aggregated by years to understand the change in net exports in 2019 and 2020.\r\n5. Step-by-step description for the makeover\r\nIn this section, I will be providing a step-by-step guide for the makeover in Tableau. I will make use of 2 tables:T1: Merchandise Imports By Region/Market, MonthlyT2: Merchandise Exports By Region/Market, Monthly\r\n5.1. Data Preparation (I)\r\nRemove the rows 1-5 from Excel T1 and T2 to facilitate upload onto Tableau.\r\nFigure 3: Removing unncessary rows from ExcelCreate a new Tableau Worksheet, and connect to the cleaned excel file.\r\nFigure 4: Connecting to data sourceThree tables corresponding to three worksheet in the excel file is extracted.\r\nFigure 5: Connecting to data sourceDrag T1 into the workspace and the data points will be automatically populated.\r\nFigure 6: Configuring T1 - ImportsFilter the data based on the period specified (Jan 2019 - Dec 2020).\r\nFigure 7: Filter out the relevant periodPivot the data (except the first column) to get a thinner table suitable for visualisation. I have also renamed the 3 new columns as Period, Imports and Countries respectively.\r\nFigure 8: Pivot the tableChange the data type of the period from string to date\r\nFigure 9: Changing the data typeExtract the table and save it as T1(outputFile)\r\nFigure 10: Extract the tableRepeat the same process for T2, and save it as T2(outputFile)\r\n5.2. Data Preparation (II)\r\nOpen a new workbook and import T1(outputFile) and T2(outputFile)\r\nWe will first process T1(outputFile). Filter the data based on the countries (Hong Kong, China, Taiwan, US, Malaysia and Japan)\r\nFigure 11: Filter out the relevant countriesToggle to T2(OutputFile) and drag the table into the workspace. This creates a join between the two tables.\r\n 13. Rename the new fields accordingly. Period (Imports, Exports), Imports, Exports, Countries (Imports, Exports)\r\nClick on the join setting. Inner join is used on period and countries of both tables. \r\nCreate a new calculated field to convert imports and exports into the billion scale. \r\n5.3. Creating Visualisations - Imports and Exports\r\nFirst, I will create 6 different line charts showcasing imports and exports on a dual axis. I will illustrate with Hong Kong.\r\nDrag Countries (Imports) into the filters workspace. Select Hong Kong from the filter pop-up. Repeat for Countries (Exports)\r\nFigure 15: Customising filter workspaceDrag other dimensions and measures into the columns and rows. For show both imports and exports as a single plot, right click on the exports plot and select “Dual Axis”.\r\nFigure 16: Creating the plotNext, customisation of the x and y-axis can be done by double clicking on the axis. This ensures consistency in the axis intervals.\r\nFigure 17: Customising the y-axisFigure 18: Customising the x-axisRepeat the same steps for the remaining 5 countries in different worksheets.\r\n5.4. Creating Visualisations - Net Exports\r\nIn this section, we will be creating another visualisation that shows the net exports of the top six countries.\r\nI will first create a new measure called Net Exports.\r\nFigure 19: Creating a new measureA pop-up will appear. Key in “[Exports] - [Imports]” in the space provided to derive net exports.\r\nFigure 20: Entering formula for Net ExportsDrag dimensions and measures into the respective columns, rows, filters and marks. Note that the period is set to Year, to aggregate the net exports yearly.\r\n 25. Next, I have created a line chart to show the percentage of net exports aggregated by year. Similar to step 18, to choose dual-axis for the 2 graphs to overlap.\r\nFigure 22: Creating an additional line chartNext, I have created 2 more measures, to differentiate between positive net exports (trade surplus) and negative net exports (trade deficit). This is done by creating a new calculated field, and the IF function.These new measures will be added to the line graph labels under the marks workspace.\r\nFigure 23: Creating additional measures for positive and negative differentiationFigure 24: Replace net exports measure withFinally, I have annotated the % change in net exports between 2019 and 2020.\r\nFigure 25: Creating additional measures for positive and negative differentiation5.5. Dashboarding - Putting everything together\r\nCreate new dashboard worksheet, and the individual charts created previously would appear on the left side Tableau Desktop.\r\nFigure 26: Creating the dashboardFor this dashboard, I have decided to use Automatic as the size and used the floating method to position the different visualisations. Tableau will automatically resize depending on the displayed screen.\r\nFigure 27: Setting the dashboardThe final layout of the dashboard is shown in Figure 20 below. The dashboard is also published on Tableau Public.\r\nFigure 28: Final Dashboard6. Observations\r\nThere is an increase in net exports from China (+175%) and United States (+186%) between 2019 and 2020. Upon closer inspection, it is noted the increase is due to the decreasing imports from these countries, while exports remained relatively stable (some seasonal fluctuations are observed). As Singapore is heavily dependent on imports for many commodities items, it might be an are of interest for the policy-makers in this area.\r\nThere is a decrease in net exports from 2019-2020 from Malaysia (-161%) and Japan (-340%), resulting in a larger proportion of trade deficit. Specifically for Malaysia, there is a dip in imports and exports in Apr 2020, which accounts for a higher margin for the deficit.\r\nHong Kong records a significant level of trade surplus while Taiwan shows an opposite trend, a trade deficit. This has been rather consistent throughout 2019-2020. With regard to this trend, it might not be alarming should there be existing arrangements between Singapore and these countries i.e trade surplus/deficient is a known fact. However, should this be a new trend, it might be a good opportunity for Singapore to relook into country-specific strategies to strengthen international trade.\r\n\r\n\r\n\r\n",
    "preview": {},
    "last_modified": "2021-06-19T21:47:20+08:00",
    "input_file": {}
  }
]
